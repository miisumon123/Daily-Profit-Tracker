<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Qurtex 10% Daily Profit Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
    th { background-color: #333; color: white; }
    .win { background-color: #c8f7c5; }
    .lose { background-color: #f9c0c0; }
    button { padding: 6px 12px; margin: 2px; }
  </style>
</head>
<body>
  <h2>Qurtex 10% Daily Profit Tracker</h2>
  <label>Starting Balance ($): <input id="startBalance" type="number" value="100" /></label>
  <button onclick="startTracking()">Start</button>
  <button onclick="saveData()">üíæ Save</button>
  <button onclick="resetData()">üóë Reset</button>
  <table id="trackerTable">
    <thead>
      <tr>
        <th>Day</th>
        <th>Balance</th>
        <th>10% Target</th>
        <th>Expected Next</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const tableBody = document.querySelector("#trackerTable tbody");
    let data = JSON.parse(localStorage.getItem("qurtexData") || "[]");

    function startTracking() {
      const start = parseFloat(document.getElementById("startBalance").value);
      data = [];
      let current = start;

      for (let day = 1; day <= 30; day++) {
        const profit = +(current * 0.10).toFixed(2);
        const next = +(current + profit).toFixed(2);
        data.push({ day, balance: current, profit, next, status: "" });
        current = next;
      }
      renderTable();
      saveData();
    }

    function renderTable() {
      tableBody.innerHTML = "";
      data.forEach((row, i) => {
        const tr = document.createElement("tr");
        tr.className = row.status === "win" ? "win" : row.status === "lose" ? "lose" : "";

        tr.innerHTML = `
          <td>${row.day}</td>
          <td>$${row.balance.toFixed(2)}</td>
          <td>$${row.profit.toFixed(2)}</td>
          <td>$${row.next.toFixed(2)}</td>
          <td>
            <button onclick="setStatus(${i}, 'win')">‚úÖ</button>
            <button onclick="setStatus(${i}, 'lose')">‚ùå</button>
          </td>
        `;
        tableBody.appendChild(tr);
      });
    }

    function setStatus(index, result) {
      data[index].status = result;

      // Recalculate balances from this point forward
      for (let i = index + 1; i < data.length; i++) {
        let prev = data[i - 1];
        const base = prev.status === "win" ? prev.next : prev.balance;
        const profit = +(base * 0.10).toFixed(2);
        const next = +(base + profit).toFixed(2);
        data[i].balance = base;
        data[i].profit = profit;
        data[i].next = next;
      }

      renderTable();
      saveData();
    }

    function saveData() {
      localStorage.setItem("qurtexData", JSON.stringify(data));
    }

    function resetData() {
      localStorage.removeItem("qurtexData");
      location.reload();
    }

    // Auto-load
    if (data.length > 0) renderTable();
  </script>
</body>
</html>
